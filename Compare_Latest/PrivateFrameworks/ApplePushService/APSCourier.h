/*
 *     Generated by class-dump 3.3.4 (64 bit).
 *
 *     class-dump is Copyright (C) 1997-1998, 2000-2001, 2004-2011 by Steve Nygard.
 */

#import "NSObject.h"

#import "APSConnectionServerDelegate-Protocol.h"
#import "APSOutgoingMessageQueueDelegate-Protocol.h"
#import "APSTCPStreamDelegate-Protocol.h"
#import "PCConnectionManagerDelegate-Protocol.h"

@class APSEnvironment, APSOutgoingMessageQueue, APSProtocolParser, APSTCPStream, NSData, NSMutableArray, NSMutableDictionary, NSString, NSTimer, PCConnectionManager, PCPersistentTimer;

@interface APSCourier : NSObject <APSTCPStreamDelegate, APSConnectionServerDelegate, APSOutgoingMessageQueueDelegate, PCConnectionManagerDelegate>
{
    id <APSCourierDelegate> _delegate;
    APSEnvironment *_environment;
    NSMutableArray *_connections;
    struct __SecIdentity *_clientIdentity;
    APSTCPStream *_tcpStream;
    APSProtocolParser *_protocolParser;
    PCConnectionManager *_connectionManager;
    BOOL _enabled;
    BOOL _enableCriticalReliability;
    BOOL _forcedWWANInterface;
    BOOL _isConnectedToService;
    unsigned int _consecutiveConnectionFailureCount;
    double _lastClientRequestedKeepaliveTime;
    double _lastLateCriticalOutgoingMessageAcknowledgmentReconnectTime;
    NSData *_lastReceivedPayloadHash;
    NSString *_lastReceivedTopic;
    double _lastReceivedTopicTime;
    BOOL _streamHasErroredSinceLastReceivedTopic;
    NSMutableDictionary *_connectionPortNamesToConnections;
    NSMutableDictionary *_hashesToEnabledTopics;
    NSMutableDictionary *_hashesToIgnoredTopics;
    PCPersistentTimer *_criticalReliabilityTimer;
    void *_criticalReliabilityPowerAssertion;
    NSTimer *_connectionEstablishTimer;
    void *_connectionEstablishPowerAssertion;
    NSTimer *_keepAliveTimer;
    void *_keepAlivePowerAssertion;
    APSOutgoingMessageQueue *_outgoingMessageQueue;
    int _notifyToken;
    BOOL _nerfCriticalReliability;
}

- (id)initWithEnvironment:(id)arg1 delegate:(id)arg2;
- (void)dealloc;
- (id)debugDescription;
- (void)addConnection:(id)arg1;
- (id)connectionForConnectionPortName:(id)arg1;
- (void)removeConnectionForConnectionPortName:(id)arg1;
- (void)connectionTopicsChanged:(id)arg1;
- (void)connectionWasClosed:(id)arg1;
- (BOOL)connectionDelegateHasIdentity:(id)arg1;
- (BOOL)connectionDelegateIsConnectedToService:(id)arg1;
- (void)connectionChangedCriticalReliability:(id)arg1;
- (void)connection:(id)arg1 didReceiveOutgoingMessageToSend:(id)arg2;
- (void)connection:(id)arg1 didReceiveCancellationForOutgoingMessageWithID:(unsigned int)arg2;
- (void)connection:(id)arg1 didReceiveFakeMessageToSend:(id)arg2;
- (void)_recalculateCriticalReliability;
- (void)_requestKeepAliveOrConnectionNow;
- (void)_recreateCacheDictionaries;
- (id)_copyHashForData:(id)arg1;
- (id)_copyHashForTopic:(id)arg1;
- (void)__updateConnectionManagerKeepAliveInterval;
- (void)_updateConnectionManagerKeepAliveInterval;
- (id)environment;
- (id)publicToken;
- (void)setPublicToken:(id)arg1;
- (unsigned int)messageSize;
- (void)setMessageSize:(unsigned int)arg1;
- (double)currentKeepAliveInterval;
- (void)setEnabled:(BOOL)arg1;
- (void)_adjustConnection;
- (void)_connectStream;
- (void)_disconnectStream;
- (struct __SecIdentity *)_getClientIdentity;
- (void)_deleteClientIdentity;
- (void)connectionManager:(id)arg1 handleEvent:(int)arg2;
- (void)tcpStream:(id)arg1 hasDeterminedServerHostname:(id)arg2;
- (void)tcpStreamHasConnected:(id)arg1;
- (unsigned int)tcpStream:(id)arg1 dataReceived:(id)arg2;
- (void)tcpStreamEndEncountered:(id)arg1;
- (void)tcpStream:(id)arg1 errorOccured:(id)arg2;
- (void)_handleConnectionFailureForcingDelayedReconnect:(BOOL)arg1;
- (void)_handleConnectedMessage:(id)arg1;
- (void)_sendFilterMessage;
- (void)_handleMessageMessage:(id)arg1;
- (id)_copyParsedPayload:(id)arg1 messageId:(id *)arg2 errorString:(id *)arg3;
- (void)_performKeepAlive;
- (void)_handleKeepAliveResponseMessage:(id)arg1;
- (void)_sendOutgoingMessage:(id)arg1;
- (void)_sendQueuedOutgoingMessages;
- (void)outgoingMessageQueue:(id)arg1 lateAcknowledgmentForCriticalOutgoingMessage:(id)arg2;
- (void)_handleOutgoingMessageAcknowledgment:(id)arg1;
- (void)_startConnectionEstablishTimer;
- (void)_clearConnectionEstablishTimer;
- (void)_connectionEstablishTimerFired:(id)arg1;
- (void)_startKeepAliveResponseTimer;
- (void)_clearKeepAliveResponseTimer;
- (void)_keepAliveResponseTimerFired:(id)arg1;

@end

